datasource db {
  url      = env("DB_URL")
  provider = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

enum AccountEnum {
  REVIEWED
  ACCEPTED
  REJECTED
}

enum Roles {
  ADMIN
  NORMAL
}

model Warehouses {
  id              Int           @id @default(autoincrement())
  areaname        String      
  assletter       String
  locations       Location      @relation(fields: [locid], references: [locid])
  locid           String        @unique
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @default(now())
}

model Location {
  id              Int           @id @default(autoincrement())
  locid           String        @unique @default(uuid())
  city            String      
  address         String
  assigneduser    User[]        
  Warehouses      Warehouses[]  
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @default(now())
}

model User {
  id              String        @id @default(uuid())
  firstname       String   
  lastname        String
  email           String        @unique
  password        String
  account         AccountEnum   @default(REVIEWED)
  rejectedreason  String?
  location        Location      @relation(fields:[locid], references: [locid])
  locid           String        
  role            Roles         @default(NORMAL)
  createdAt       DateTime      @default(now())
  updatedAt       DateTime      @default(now()) 
}